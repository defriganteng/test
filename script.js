function enableScroll(){let e=document.querySelector(".content-container");e.style.overflowY="auto",document.getElementById("content2").scrollIntoView({behavior:"smooth"});let t=document.getElementById("bgMusic");t&&t.play().catch(e=>console.log("Autoplay diblokir oleh browser:",e))}function initBackgroundSlider(){let e=document.querySelectorAll(".background-slide"),t=0;e[0].classList.add("active"),setInterval(()=>{e[t].classList.remove("active"),e[t=(t+1)%e.length].classList.add("active")},6e3)}document.addEventListener("touchmove",function(e){"auto"!==document.querySelector(".content-container").style.overflowY&&e.preventDefault()},{passive:!1}),window.onbeforeunload=function(){window.scrollTo(0,0)},window.addEventListener("load",initBackgroundSlider);const galleryItems=document.querySelectorAll(".gallery-item"),lightbox=document.createElement("div");lightbox.className="lightbox";const lightboxImg=document.createElement("img");lightbox.appendChild(lightboxImg);const closeButton=document.createElement("span");function openLightbox(e){lightboxImg.src=e,lightbox.classList.add("active"),document.body.style.overflow="hidden"}function closeLightbox(){lightbox.classList.remove("active"),document.body.style.overflow=""}closeButton.className="close-lightbox",closeButton.innerHTML="&times;",lightbox.appendChild(closeButton),document.body.appendChild(lightbox),galleryItems.forEach(e=>{let t=e.querySelector("img");e.addEventListener("click",()=>{openLightbox(t.src)})}),closeButton.addEventListener("click",closeLightbox),lightbox.addEventListener("click",e=>{e.target===lightbox&&closeLightbox()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&lightbox.classList.contains("active")&&closeLightbox()});let touchStartX=0,touchEndX=0;function getQueryParam(e){let t=new URLSearchParams(window.location.search);return t.get(e)}function updateCountdown(){let e=new Date("August 23, 2025 08:00:00").getTime(),t=new Date().getTime(),n=e-t;document.getElementById("countdown-days").innerText=Math.floor(n/864e5).toString().padStart(2,"0"),document.getElementById("countdown-hours").innerText=Math.floor(n%864e5/36e5).toString().padStart(2,"0"),document.getElementById("countdown-minutes").innerText=Math.floor(n%36e5/6e4).toString().padStart(2,"0"),document.getElementById("countdown-seconds").innerText=Math.floor(n%6e4/1e3).toString().padStart(2,"0"),n<0&&(clearInterval(x),document.querySelector(".countdown-container").innerHTML="<h3>Hari Bahagia Telah Tiba!</h3>")}lightbox.addEventListener("touchstart",e=>{touchStartX=e.changedTouches[0].screenX}),lightbox.addEventListener("touchend",e=>{Math.abs((touchEndX=e.changedTouches[0].screenX)-touchStartX)>50&&closeLightbox()}),lightboxImg.addEventListener("load",()=>{lightboxImg.style.opacity="1"}),lightboxImg.addEventListener("error",()=>{console.error("Error loading image"),closeLightbox()}),document.addEventListener("DOMContentLoaded",function(){let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},{threshold:.8});document.querySelectorAll(".story-event").forEach(t=>{e.observe(t)})}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("rsvpForm"),t=document.getElementById("wishesForm"),n=document.querySelector(".wishes-container");e&&e.addEventListener("submit",function(t){t.preventDefault();let n=document.getElementById("name").value,o=document.getElementById("attendance").value;console.log("RSVP Dikirim:",n,o),alert("Terima kasih! RSVP Anda telah dikirim."),e.reset()}),t&&n&&t.addEventListener("submit",function(e){e.preventDefault();let o=document.getElementById("wishName").value,a=document.getElementById("wishMessage").value;console.log("Ucapan Dikirim:",o,a);let r=document.createElement("div");r.className="wish-card",r.innerHTML=`
                <div class="wish-header">
                    <h3 class="wish-name">${o}</h3>
                    <span class="wish-time">Baru saja</span>
                </div>
                <p class="wish-message">${a}</p>
            `,n.prepend(r),t.reset(),alert("Terima kasih! Ucapan Anda telah dikirim.")})}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("guestName"),t=getQueryParam("nama");t&&(e.textContent=decodeURIComponent(t))}),document.addEventListener("DOMContentLoaded",function(){[".animate-title",".animate-names",".animate-to-text",".animate-guest-name",".animate-button"].forEach((e,t)=>{let n=document.querySelector(e);n&&setTimeout(()=>{n.classList.add("appear")},300*t)})}),document.addEventListener("DOMContentLoaded",function(){let e=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target.querySelector(".wedding-content");t&&t.classList.add("appear")}})},{threshold:.9}),t=document.getElementById("content2");t&&e.observe(t)}),document.addEventListener("DOMContentLoaded",function(){let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("appear")})},{threshold:.7}),t=document.getElementById("content3");t&&e.observe(t)}),document.addEventListener("DOMContentLoaded",function(){let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("appear")})},{threshold:.5}),t=document.getElementById("content4");t&&e.observe(t)}),updateCountdown();const x=setInterval(updateCountdown,1e3),observerOptions={root:null,rootMargin:"0px",threshold:.2},observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.style.opacity="1",e.target.style.transform="translateY(0)")})},observerOptions),animatedElements=document.querySelectorAll(`
    #content5 .invitation-text,
    #content5 .event-card,
    #content5 .countdown-container,
    #content5 .closing-text
`);animatedElements.forEach(e=>{e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition="opacity 1s ease, transform 1s ease",observer.observe(e)});const eventCards=document.querySelectorAll(".event-card");eventCards.forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.transform="translateY(-10px)",e.style.boxShadow="0 10px 20px rgba(0,0,0,0.1)"}),e.addEventListener("mouseleave",()=>{e.style.transform="translateY(0)",e.style.boxShadow="0 4px 10px rgba(0,0,0,0.1)"})});const eventIcons=document.querySelectorAll(".event-icon");eventIcons.forEach(e=>{e.style.animation="pulse 2s infinite"});const mapLinks=document.querySelectorAll(".map-link");mapLinks.forEach(e=>{e.addEventListener("mouseenter",()=>{e.style.backgroundColor="rgba(255, 255, 255, 0.3)",e.style.transform="translateY(-3px)"}),e.addEventListener("mouseleave",()=>{e.style.backgroundColor="rgba(255, 255, 255, 0.2)",e.style.transform="translateY(0)"})}),document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll(".video-gallery, .photo-gallery, .gallery-item"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("show")})},{threshold:.2});e.forEach(e=>{t.observe(e)})});
